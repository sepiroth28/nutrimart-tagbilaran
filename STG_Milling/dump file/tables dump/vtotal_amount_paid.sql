DROP VIEW IF EXISTS `dbinventory`.`vtotal_amount_paid`;
CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW  `dbinventory`.`vtotal_amount_paid` AS select sum(`pr`.`amount`) AS `total_amount_paid`,`sot`.`responsible_customer` AS `responsible_customer` from ((`account_receivable` `acr` left join `stock_out_transaction` `sot` on((`acr`.`sales_order_no` = `sot`.`sales_order_no`))) left join `payment_records` `pr` on((`pr`.`sales_order_no` = `sot`.`sales_order_no`))) group by `sot`.`responsible_customer`;